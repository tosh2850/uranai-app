// quiz.jsï¼ˆç®—å‘½å­¦ãƒ™ãƒ¼ã‚¿ï¼ã‚¯ã‚¤ã‚ºå°‚ç”¨ãƒšãƒ¼ã‚¸ç”¨ï¼‰
const QUIZ_TITLE = "å ã„çŸ¥è­˜ æ¤œå®šï¼ˆãƒ™ãƒ¼ã‚¿ï¼‰â€” ç®—å‘½å­¦ç·¨";
document.title = QUIZ_TITLE;

/** 40å• â†’ å—é¨“é–‹å§‹æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ 10å•æŠ½å‡º */
// ===== å·®ã—æ›¿ãˆæ¸ˆã¿ï¼šè§£èª¬ã¤ã QUESTIONSï¼ˆ50å•ï¼‰ =====
const QUESTIONS = [
  { q: "åå¹²ã«ãŠã„ã¦ã€Œç”²ã€ã¨ã€Œä¹™ã€ã®é•ã„ã‚’æ­£ã—ãèª¬æ˜ã—ã¦ã„ã‚‹ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["é™½æœ¨ã¨é™°æœ¨","é™½ç«ã¨é™°ç«","é™½åœŸã¨é™°åœŸ","é™½é‡‘ã¨é™°é‡‘"], answer: 0, note: "ç”²ã¯é™½æœ¨ã€ä¹™ã¯é™°æœ¨ã‚’è¡¨ã™ã€‚åå¹²ã¯é™°é™½ã«åˆ†ã‹ã‚Œã‚‹ã€‚" },
  { q: "åäºŒæ”¯ã®ã€Œäº¥ã€ã¯äº”è¡Œã§ä½•ã‚’è¡¨ã™ã‹ã€‚", choices: ["æœ¨ã®æ—º","æ°´ã®æ—º","é‡‘ã®ä½™æ°—","åœŸã®å¢“"], answer: 1, note: "äº¥ã¯æ°´ã®æ—ºã˜ã‚‹æ”¯ã€‚å†¬ã®å§‹ã¾ã‚Šã‚’æ„å‘³ã™ã‚‹ã€‚" },
  { q: "äº”è¡Œã®ã€Œç›¸ç”Ÿé–¢ä¿‚ã€ã«ãŠã„ã¦ç«ãŒç”Ÿã¿å‡ºã™ã®ã¯ä½•ã‹ã€‚", choices: ["æœ¨","æ°´","åœŸ","é‡‘"], answer: 2, note: "ç«ã¯åœŸã‚’ç”Ÿã˜ã‚‹ã€‚ç›¸ç”Ÿé–¢ä¿‚ã®åŸºæœ¬ã€‚" },
  { q: "åäºŒæ”¯ã®ã€Œè¾°ãƒ»æˆŒãƒ»ä¸‘ãƒ»æœªã€ã«å…±é€šã™ã‚‹ç‰¹å¾´ã¯ã©ã‚Œã‹ã€‚", choices: ["å››å¢“","å››ç”Ÿ","å››æ—º","å››çµ¶"], answer: 0, note: "è¾°ãƒ»æˆŒãƒ»ä¸‘ãƒ»æœªã¯å››å¢“ã§ã€è”µå¹²ãŒè¤‡é›‘ã€‚" },
  { q: "åå¹²ã®ã€Œåºšã€ãŒè±¡å¾´ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã®ã¯ã©ã‚Œã‹ã€‚", choices: ["æ–°èŠ½","è‰èŠ±","é‰„é‰±çŸ³ã‚„åˆ€å‰£","å®çŸ³"], answer: 2, note: "åºšã¯é™½ã®é‡‘ã§ã€é‰„ã‚„åˆ€å‰£ã‚’è±¡å¾´ã™ã‚‹ã€‚" },
  { q: "å¹²æ”¯ã®ã€Œç”²å­ã€ã¯å…­åå¹²æ”¯ã®æœ€åˆã«ä½ç½®ã™ã‚‹ãŒã€ãã®ç†ç”±ã¯ã©ã‚Œã‹ã€‚", choices: ["æœ¨ãŒèŠ½å¹ãã€æ°´ãŒãã‚Œã‚’é¤Šã†å§‹ã¾ã‚Šã‚’è¡¨ã™ã‹ã‚‰","é™½æœ¨ã¨é™½ç«ãŒå¾ªç’°ã®èµ·ç‚¹ã ã‹ã‚‰","é™°æœ¨ã¨é™°æ°´ãŒèª¿å’Œã™ã‚‹ãŸã‚","å¹²ã¨æ”¯ã®é™°é™½ãŒä¸€è‡´ã™ã‚‹æœ€å°ã®çµ„ã¿åˆã‚ã›ã ã‹ã‚‰"], answer: 0, note: "ç”²å­ã¯æœ¨ã¨æ°´ã®çµ„åˆã›ã§ã€å¾ªç’°ã®å§‹ã¾ã‚Šã€‚" },
  { q: "å¹²æ”¯ã®ã€Œå£¬åˆã€ã¯ã©ã®ã‚ˆã†ãªé–¢ä¿‚ã‚’æŒã¤ã‹ã€‚", choices: ["é™°é™½èª¿å’Œ","å¹²æ”¯ç›¸å‰‹","é™½åŒå£«ã®è¡çª","æœ¨ç«é€šæ˜"], answer: 1, note: "å£¬åˆã¯æ°´ã¨ç«ã§å¹²æ”¯ç›¸å‰‹ã®é–¢ä¿‚ã€‚" },
  { q: "å¹²æ”¯ã®ã€Œåºšè¾°ã€ã®ç‰¹å¾´ã‚’ç¤ºã™ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["é‡‘ãŒåœŸã«æ ¹ã–ã™","æœ¨ãŒæ°´ã«æ”¯ãˆã‚‰ã‚Œã‚‹","ç«ãŒé‡‘ã‚’å‰‹ã™ã‚‹","åœŸãŒæœ¨ã‚’å‰‹ã™ã‚‹"], answer: 0, note: "åºšè¾°ã¯é‡‘ãŒåœŸã«æ ¹ã‚’æŒã¤é…ç½®ã€‚" },
  { q: "å‘½å¼ã«ãŠã„ã¦ã€Œæœˆæ”¯ã€ãŒæ„å‘³ã™ã‚‹ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["å…ˆç¥–ã‹ã‚‰ã®å› ç¸","ãã®äººã®æ€§æ ¼ãƒ»æœ¬è³ª","ç¤¾ä¼šçš„ãªç«‹å ´ãƒ»è·æ¥­å‚¾å‘","æ™©å¹´ã®é‹å‹¢"], answer: 1, note: "æœˆæ”¯ã¯å‘½å¼ã®æœ¬è³ªã‚’è¡¨ã™ã€‚å­£ç¯€ã‚„æ ¹æœ¬æ€§æ ¼ã®åŸºæº–ã€‚" },
  { q: "æ ¼å±€ã«ãŠã„ã¦ã€Œè²´æ ¼ã€ã¨ã•ã‚Œã‚‹ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["èº«å¼±å°æ˜Ÿæ ¼","è²¡æ˜Ÿæ ¼","å®˜æ˜Ÿæ ¼","é£Ÿç¥æ ¼"], answer: 2, note: "æ­£å®˜æ ¼ã¯ç¤¾ä¼šçš„è©•ä¾¡ãŒé«˜ã„è²´æ ¼ã¨ã•ã‚Œã‚‹ã€‚" },
  { q: "èº«æ—ºãƒ»èº«å¼±ã®åˆ¤å®šåŸºæº–ã§æœ€ã‚‚é‡è¦–ã•ã‚Œã‚‹ã®ã¯ã©ã®æŸ±ã‹ã€‚", choices: ["å¹´æŸ±","æœˆæŸ±","æ—¥æŸ±","æ™‚æŸ±"], answer: 1, note: "æœˆæ”¯ãŒæœ€ã‚‚å‘½å¼ã®å¼·å¼±åˆ¤å®šã«é‡è¦–ã•ã‚Œã‚‹ã€‚" },
  { q: "ã€Œå°‚æ°—æ ¼ã€ãŒæˆç«‹ã™ã‚‹ãŸã‚ã®æ¡ä»¶ã¯ã©ã‚Œã‹ã€‚", choices: ["ä¸€æŸ±ã«åŒã˜äº”è¡ŒãŒä¸¦ã¶","å¤©å¹²ã¨åœ°æ”¯ã«ä¸€æ°—ãŒè²«é€šã—ã¦ã„ã‚‹","åå¹²ãŒã™ã¹ã¦æƒã£ã¦ã„ã‚‹","åäºŒæ”¯ãŒä¸‰åˆã—ã¦ã„ã‚‹"], answer: 1, note: "å°‚æ°—æ ¼ã¯å¹²æ”¯ã«ä¸€æ°—ãŒé€šè²«ã™ã‚‹ç‰¹æ®Šæ ¼ã€‚" },
  { q: "é€šå¤‰æ˜Ÿã®ã€Œæ¯”è‚©ã€ãŒå¼·ã„å ´åˆã«ç¾ã‚Œã‚„ã™ã„æ€§æ ¼ã¯ã©ã‚Œã‹ã€‚", choices: ["å”èª¿æ€§ãŒé«˜ã„","ç‹¬ç«‹å¿ƒãŒå¼·ã„","å—ã‘èº«ã§æ…é‡","è¡¨ç¾åŠ›è±Šã‹"], answer: 1, note: "æ¯”è‚©ã¯ç‹¬ç«‹å¿ƒã‚’å¼·ã‚ã‚‹ã€‚å”èª¿ã‚ˆã‚Šè‡ªå·±é‡è¦–ã€‚" },
  { q: "ã€Œå‚·å®˜ã€ãŒå¼·ã„å ´åˆã®å‚¾å‘ã¨ã—ã¦æ­£ã—ã„ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["å‰µé€ åŠ›ãƒ»æ‰¹åˆ¤ç²¾ç¥ãŒæ—ºç››","è¬™è™šã§æ§ãˆã‚","è²¡ã‚’å®ˆã‚‹åŠ›ãŒå¼·ã„","æ­£ç¾©æ„ŸãŒå¼·ã„"], answer: 0, note: "å‚·å®˜ã¯å‰µé€ åŠ›ãƒ»æ‰¹åˆ¤ç²¾ç¥ãŒå¼·ã„ã€‚" },
  { q: "ã€Œåè²¡ã€ã®è±¡æ„ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["åºƒã„äººè„ˆ","æŠ•æ©Ÿã‚„å†’é™º","æ­£å¦»ãƒ»æœ¬å¦»","æµå‹•çš„ãªè²¡"], answer: 2, note: "åè²¡ã¯äººè„ˆã‚„æŠ•æ©Ÿã‚’æ„å‘³ã—ã€æ­£å¦»ã¯å«ã¾ãªã„ã€‚" },
  { q: "ã€Œæ­£å®˜ã€ãŒæ„å‘³ã™ã‚‹ã‚‚ã®ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã®ã¯ã©ã‚Œã‹ã€‚", choices: ["ç›®ä¸Šãƒ»ç§©åºãƒ»è²¬ä»»","éƒ¨ä¸‹ãƒ»éƒ¨ä¸‹é‹","å‰µé€ ãƒ»è¡¨ç¾","å¥åº·ãƒ»ç”Ÿå‘½åŠ›"], answer: 0, note: "æ­£å®˜ã¯ç§©åºã‚„è²¬ä»»ã€ç›®ä¸Šã‚’ç¤ºã™ã€‚" },
  { q: "åäºŒå¤§å¾“æ˜Ÿã®ã€Œå¤©å°æ˜Ÿã€ãŒç¤ºã™ã®ã¯ã©ã®ã‚ˆã†ãªå‚¾å‘ã‹ã€‚", choices: ["ç²¾ç¥æ€§ã®é«˜ã•","ç”Ÿã¾ã‚ŒæŒã£ãŸåº‡è­·","ç¤¾ä¼šçš„ãªæ¨©åŠ›","çµŒæ¸ˆçš„ãªç¹æ „"], answer: 1, note: "å¤©å°æ˜Ÿã¯åº‡è­·ãƒ»æ´åŠ©ã‚’æ„å‘³ã™ã‚‹æ˜Ÿã€‚" },
  { q: "ã€Œå¤©ç¦„æ˜Ÿã€ã‚’æŒã¤äººã«ç¾ã‚Œã‚„ã™ã„å‚¾å‘ã¯ã©ã‚Œã‹ã€‚", choices: ["å‹¤å‹‰ã§ç¾å®Ÿçš„","èé€šãŒåˆ©ã‹ãªã„","èŠ¸è¡“çš„ã‚»ãƒ³ã‚¹ãŒå¼·ã„","ç§˜å¯†ä¸»ç¾©"], answer: 0, note: "å¤©ç¦„æ˜Ÿã¯å‹¤å‹‰ãƒ»ç¾å®Ÿæ€§ã‚’è¡¨ã™ã€‚" },
  { q: "ã€Œå¤©å°†æ˜Ÿã€ãŒæ„å‘³ã™ã‚‹ã‚‚ã®ã¨ã—ã¦æœ€ã‚‚æ­£ã—ã„ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["é›†å›£ã‚’çµ±ç‡ã™ã‚‹åŠ›","èŠ¸è¡“ãƒ»ç¾","ç²¾ç¥çš„ç›´è¦³åŠ›","è¬™è™šã§å¾“é †"], answer: 0, note: "å¤©å°†æ˜Ÿã¯çµ±ç‡åŠ›ãƒ»ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’æ„å‘³ã™ã‚‹ã€‚" },
  { q: "ã€Œå¤©èƒ¡æ˜Ÿã€ã®ç‰¹å¾´ã¨ã—ã¦é©åˆ‡ãªã®ã¯ã©ã‚Œã‹ã€‚", choices: ["ç§˜å¯†ãƒ»å†…å‘ãƒ»ç ”ç©¶å¿ƒ","é–‹æ”¾çš„ãƒ»å¤–äº¤çš„","å®Ÿå‹™èƒ½åŠ›ã«å„ªã‚Œã‚‹","é‡‘éŠ­æ„Ÿè¦šãŒé‹­ã„"], answer: 0, note: "å¤©èƒ¡æ˜Ÿã¯ç§˜å¯†ä¸»ç¾©ãƒ»ç ”ç©¶å¿ƒã®æ˜Ÿã€‚" },
  { q: "å‘½å¼ã«ãŠã„ã¦ã€Œæ—¥å¹²ã€ãŒå¼·ã™ãã‚‹å ´åˆã€èª¿æ•´ã™ã‚‹ã®ã«æœ‰åŠ¹ãªã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["è²¡æ˜Ÿ","å®˜æ˜Ÿ","å°æ˜Ÿ","æ¯”è‚©"], answer: 1, note: "èº«ãŒå¼·ã™ãã‚‹æ™‚ã¯å®˜æ˜Ÿã§èª¿æ•´ã™ã‚‹ã€‚" },
  { q: "è²¡æ˜ŸãŒéå‰°ã«å¼·ã„å‘½å¼ã§èµ·ã“ã‚Šã‚„ã™ã„ç¾è±¡ã¯ã©ã‚Œã‹ã€‚", choices: ["è²¡ç”£ãŒå®‰å®šã—ã¦å¢—ãˆã‚‹","è²¡ã«æººã‚Œã¦é“ã‚’èª¤ã‚‹","åèª‰ã‚’å¾—ã‚„ã™ã„","å®¶æ—ç¸ãŒå¼·ã¾ã‚‹"], answer: 1, note: "è²¡ãŒå¼·ã™ãã‚‹ã¨è²¡ã«æººã‚Œã‚‹å±é™ºãŒã‚ã‚‹ã€‚" },
  { q: "å‚·å®˜ãŒå¼·ãæ­£å®˜ã‚’å‰‹ã—ã¦ã„ã‚‹å ´åˆã«èµ·ã“ã‚Šã‚„ã™ã„ã“ã¨ã¯ã©ã‚Œã‹ã€‚", choices: ["ä¸Šå¸ã‚„æ¨©å¨ã¨ã®æ‘©æ“¦","è²¡é‹ã®æµå¤±","å¥åº·æ‚ªåŒ–","å®¶åº­ä¸å’Œ"], answer: 0, note: "å‚·å®˜ãŒå®˜æ˜Ÿã‚’å‰‹ã™ã¨ä¸Šå¸ã¨è¡çªã—ã‚„ã™ã„ã€‚" },
  { q: "èº«å¼±ã§å°æ˜ŸãŒå¤šã„å ´åˆã«å‡ºã‚„ã™ã„å‚¾å‘ã¯ã©ã‚Œã‹ã€‚", choices: ["çŸ¥è­˜æ¬²ãŒå¼·ãå­¦å•ã«å‘ã","å®Ÿå‹™åŠ›ãŒå¼·ã„","çµŒæ¸ˆåŠ›ãŒå®‰å®šã™ã‚‹","èŠ¸è¡“é¢ã§æˆåŠŸã™ã‚‹"], answer: 0, note: "èº«å¼±ã§å°æ˜ŸãŒå¤šã„ã¨å­¦å•ã«å‘ãã€‚" },
  { q: "å‘½å¼ã®ä¸‰åˆä¼šå±€ã§ã€Œå¯…ãƒ»åˆãƒ»æˆŒã€ãŒæƒã£ãŸå ´åˆã€äº”è¡Œã§ä½•ãŒæ—ºã˜ã‚‹ã‹ã€‚", choices: ["æœ¨","ç«","åœŸ","é‡‘"], answer: 1, note: "å¯…ãƒ»åˆãƒ»æˆŒä¸‰åˆä¼šå±€ã§ç«ãŒæ—ºã˜ã‚‹ã€‚" },
  { q: "èº«å¼±ã§è²¡æ˜ŸãŒå¼·ã„å ´åˆã€æœ€ã‚‚å¿…è¦ã¨ã•ã‚Œã‚‹æ˜Ÿã¯ã©ã‚Œã‹ã€‚", choices: ["æ¯”è‚©ãƒ»åŠ«è²¡","å®˜æ˜Ÿ","å°æ˜Ÿ","é£Ÿç¥"], answer: 2, note: "èº«å¼±ã§è²¡æ˜ŸãŒå¼·ã„å ´åˆã¯å°æ˜ŸãŒå®ˆè­·ã¨ãªã‚‹ã€‚" },
  { q: "ã€å¾“è²¡æ ¼ã€ãŒæˆç«‹ã™ã‚‹ã®ã¯ã©ã®ã‚ˆã†ãªå ´åˆã‹ã€‚", choices: ["è²¡æ˜ŸãŒæ¥µç«¯ã«å¼·ãèº«ãŒå¼±ã„å ´åˆ","è²¡æ˜Ÿã¨å®˜æ˜ŸãŒæ‹®æŠ—ã™ã‚‹å ´åˆ","å°æ˜ŸãŒå¤šãæ¯”è‚©ãŒãªã„å ´åˆ","æ—¥å¹²ãŒå¼·ãè²¡ãŒãªã„å ´åˆ"], answer: 0, note: "å¾“è²¡æ ¼ã¯è²¡æ˜ŸãŒæ¥µç«¯ã«å¼·ãèº«ãŒå¼±ã„å ´åˆã«æˆç«‹ã€‚" },
  { q: "å‘½å¼ã«ãŠã„ã¦ã€èª¿å€™ã€ã‚’è€ƒãˆã‚‹éš›ã«æœ€ã‚‚é‡è¦–ã•ã‚Œã‚‹ã®ã¯ã©ã®æ”¯ã‹ã€‚", choices: ["å¹´æ”¯","æœˆæ”¯","æ—¥æ”¯","æ™‚æ”¯"], answer: 1, note: "èª¿å€™ã¯å­£ç¯€ã‚’ç¤ºã™æœˆæ”¯ãŒåŸºæº–ã€‚" },
  { q: "ã€å¾“å…æ ¼ï¼ˆå¾“æ—ºæ ¼ï¼‰ã€ãŒæˆç«‹ã™ã‚‹æ¡ä»¶ã¯ã©ã‚Œã‹ã€‚", choices: ["èº«å¼±ã§å°æ˜ŸãŒå¤šã„","èº«å¼±ã§è²¡å®˜ãŒå¤šã„","èº«ãŒæ¥µç«¯ã«å¼±ãæ¯”åŠ«ãŒãªã„","èº«ãŒæ¥µç«¯ã«å¼·ãä»–æ˜Ÿã‚’å—ã‘å…¥ã‚Œã‚‹"], answer: 3, note: "å¾“æ—ºæ ¼ã¯èº«ãŒæ¥µç«¯ã«å¼·ãä»–æ˜Ÿã‚’å¾“ãˆã‚‹å ´åˆã€‚" },
  { q: "æ ¼å±€ã‚’åˆ¤å®šã™ã‚‹ä¸Šã§é‡è¦ãªåŸºæº–ã¯ã©ã‚Œã‹ã€‚", choices: ["å¤§é‹ã®å½±éŸ¿","æœˆä»¤ï¼ˆå­£ç¯€ï¼‰","å¹´å¹²ã®äº”è¡Œ","æ™‚æŸ±ã®åœ°æ”¯"], answer: 1, note: "æ ¼å±€åˆ¤å®šã¯å­£ç¯€ï¼ˆæœˆä»¤ï¼‰ã‚’é‡è¦–ã™ã‚‹ã€‚" },
  { q: "ç®—å‘½å­¦ã§ã„ã†ã€å®ˆè­·ç¥ã€ã¨ã¯ä½•ã‚’æ„å‘³ã™ã‚‹ã‹ã€‚", choices: ["å‘½å¼ã‚’å®‰å®šã•ã›ã‚‹äº”è¡Œ","æœ€ã‚‚å¼·ã„æ˜Ÿ","å…ˆç¥–ã®å› ç¸ã‚’ç¤ºã™æ˜Ÿ","æœªæ¥ã®é‹ã‚’ç¤ºã™æ˜Ÿ"], answer: 0, note: "å®ˆè­·ç¥ã¯å‘½å¼ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚‹é‡è¦ãªäº”è¡Œã€‚" },
  { q: "ç«ãŒå¼·ã™ãã‚‹å‘½å¼ã§å®ˆè­·ç¥ã¨ãªã‚‹äº”è¡Œã¯ã©ã‚Œã‹ã€‚", choices: ["æœ¨","ç«","åœŸ","æ°´"], answer: 3, note: "ç«ãŒå¼·ã™ãã‚‹æ™‚ã¯æ°´ãŒå®ˆè­·ç¥ã¨ãªã‚‹ã€‚" },
  { q: "æ°´ãŒå¼±ãé‡‘ãŒå¼·ã„å‘½å¼ã§å®ˆè­·ç¥ã¨ã—ã¦æœ‰åŠ¹ãªã®ã¯ã©ã‚Œã‹ã€‚", choices: ["æœ¨","ç«","åœŸ","æ°´"], answer: 3, note: "é‡‘ãŒå¼·ãæ°´ãŒå¼±ã„æ™‚ã¯æ°´ã‚’è£œã†ã®ãŒå®ˆè­·ç¥ã€‚" },
  { q: "èº«æ—ºã§è²¡æ˜ŸãŒå¼±ã„å‘½å¼ã§å®ˆè­·ç¥ã¨ãªã‚‹ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["å®˜æ˜Ÿ","å°æ˜Ÿ","æ¯”è‚©","è²¡æ˜Ÿ"], answer: 3, note: "èº«æ—ºã§è²¡ãŒå¼±ã„å ´åˆã¯è²¡æ˜ŸãŒå®ˆè­·ç¥ã¨ãªã‚‹ã€‚" },
  { q: "åœŸãŒéå‰°ã«å¼·ã„å‘½å¼ã§å®ˆè­·ç¥ã¨ãªã‚‹ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["æœ¨","ç«","é‡‘","æ°´"], answer: 0, note: "åœŸãŒéå‰°ã«å¼·ã„æ™‚ã¯æœ¨ã§æŠ‘ãˆã‚‹ã®ãŒå®ˆè­·ç¥ã€‚" },
  { q: "åäºŒæ”¯ã®ã€å­åˆå†²ã€ãŒæ„å‘³ã™ã‚‹ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["æ°´ç«ã®æ¿€çª","é‡‘æœ¨ã®èª¿å’Œ","åœŸã®ä½™å‰°","é™°é™½ã®èª¿å’Œ"], answer: 0, note: "å­åˆå†²ã¯æ°´ç«ã®æ¿€çªã‚’æ„å‘³ã™ã‚‹ã€‚" },
  { q: "ã€è¾°æˆŒæ²–ã€ãŒå‘½å¼ã«ã‚ã‚‹å ´åˆã«ç¾ã‚Œã‚„ã™ã„äº‹è±¡ã¯ã©ã‚Œã‹ã€‚", choices: ["ç²¾ç¥ä¸å®‰ã‚„æ¥µç«¯ã•","é‡‘éŠ­é‹ã®å®‰å®š","å®¶åº­ã®èª¿å’Œ","å­¦å•ã®æˆåŠŸ"], answer: 0, note: "è¾°æˆŒæ²–ã¯ä¸¡æ¥µç«¯ã§ä¸å®‰å®šã•ã‚’æ‹›ãã€‚" },
  { q: "ã€å¯…ç”³å·³ä¸‰åˆ‘ã€ãŒå‘½å¼ã«ã‚ã‚‹å ´åˆã€å‡ºã‚„ã™ã„å‚¾å‘ã¯ã©ã‚Œã‹ã€‚", choices: ["äººé–“é–¢ä¿‚ã®æ‘©æ“¦","è²¡ç”£å¢—åŠ ","ç²¾ç¥å®‰å®š","æ¨©åŠ›ä¸Šæ˜‡"], answer: 0, note: "å¯…ç”³å·³ä¸‰åˆ‘ã¯äººé–“é–¢ä¿‚ã®æ‘©æ“¦ã‚’ç”Ÿã¿ã‚„ã™ã„ã€‚" },
  { q: "ã€å­æœªå®³ã€ãŒæ„å‘³ã™ã‚‹ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", choices: ["å©šå§»å•é¡Œã‚„äººé–“é–¢ä¿‚ã®ä¸å’Œ","å­¦å•ã«å¼·ã„é–¢å¿ƒ","è²¡é‹ã®å®‰å®š","ä»•äº‹ã®æˆåŠŸ"], answer: 0, note: "å­æœªå®³ã¯å©šå§»å•é¡Œã‚„ä¸å’Œã‚’èµ·ã“ã™ã€‚" },
  { q: "åœ°æ”¯ã®ã€ä¸‰åˆä¼šå±€ã€ã§ç”³å­è¾°ãŒæƒã†ã¨æ—ºã˜ã‚‹äº”è¡Œã¯ã©ã‚Œã‹ã€‚", choices: ["æœ¨","ç«","åœŸ","æ°´"], answer: 3, note: "ç”³å­è¾°ä¸‰åˆã¯æ°´ãŒæ—ºã˜ã‚‹ä¼šå±€ã€‚" },
  { q: "å¤§é‹ã¨ã¯ä½•ã‚’ç¤ºã™ã‹ã€‚", choices: ["10å¹´ã”ã¨ã®é‹å‹¢æ¨ç§»","1å¹´ã”ã¨ã®é‹å‹¢","å‘½å¼ã®ä¸­å¿ƒçš„æ€§è³ª","å…ˆç¥–ã®å½±éŸ¿"], answer: 0, note: "å¤§é‹ã¯10å¹´ã”ã¨ã®é‹å‹¢æ¨ç§»ã‚’ç¤ºã™ã€‚" },
  { q: "æµå¹´ã¨ã¯ä½•ã‚’ç¤ºã™ã‹ã€‚", choices: ["æ¯å¹´ã®é‹å‹¢","æœˆã”ã¨ã®é‹å‹¢","æ—¥ã”ã¨ã®é‹å‹¢","ä¸€ç”Ÿã®åŸºç¤é‹"], answer: 0, note: "æµå¹´ã¯æ¯å¹´ã®é‹å‹¢ã‚’ç¤ºã™ã€‚" },
  { q: "å¤§é‹ãŒèº«ã‚’åŠ©ã‘ã‚‹æ˜Ÿã§å·¡ã‚‹ã¨ãã€ä¸€èˆ¬çš„ã«ã©ã†ãªã‚‹ã‹ã€‚", choices: ["é‹ãŒå®‰å®šã—ã‚„ã™ã„","å›°é›£ãŒå¢—ãˆã‚‹","ç—…æ°—ã—ã‚„ã™ã„","å­¤ç«‹ã—ã‚„ã™ã„"], answer: 0, note: "å¤§é‹ã§åŠ©ã‘ã¨ãªã‚‹æ˜ŸãŒå·¡ã‚‹ã¨å®‰å®šã™ã‚‹ã€‚" },
  { q: "æµå¹´ã§å‘½å¼ã®æ—¥å¹²ã‚’å‰‹ã™æ˜ŸãŒå·¡ã‚‹ã¨ãèµ·ã“ã‚Šã‚„ã™ã„ã“ã¨ã¯ã©ã‚Œã‹ã€‚", choices: ["å¥åº·å•é¡Œã‚„å¯¾äººæ‘©æ“¦","è²¡é‹ä¸Šæ˜‡","çµå©šã®æ©Ÿä¼š","ç²¾ç¥å®‰å®š"], answer: 0, note: "æµå¹´ã§æ—¥å¹²ã‚’å‰‹ã™ã¨æ‘©æ“¦ã‚„å¥åº·å•é¡ŒãŒç”Ÿã˜ã‚‹ã€‚" },
  { q: "å¤§é‹ã§è²¡æ˜ŸãŒå·¡ã‚Šã€å‘½å¼ã«è²¡ãŒãªã„å ´åˆã©ã†ãªã‚‹ã‹ã€‚", choices: ["è²¡ã®ç²å¾—ã®æ©Ÿä¼šãŒè¨ªã‚Œã‚‹","è²¡ã‚’å¤±ã†","ç—…æ°—ã—ã‚„ã™ã„","äººé–“é–¢ä¿‚ãŒæ‚ªåŒ–"], answer: 0, note: "å¤§é‹ã§è²¡ãŒå·¡ã‚Šå‘½å¼ã«è²¡ãŒãªã„å ´åˆã¯è²¡ã‚’å¾—ã‚‹æ©Ÿä¼šã€‚" },
  { q: "å‘½å¼ã«ã€ç«åœŸã€ãŒå¤šãã€æœ¨æ°´ã€ãŒæ¬ ã‘ã‚‹å ´åˆã«ç¾ã‚Œã‚‹å‚¾å‘ã¯ã©ã‚Œã‹ã€‚", choices: ["ä¿å®ˆçš„ã§ç¾å®Ÿçš„","å­¦å•çš„ãƒ»çŸ¥æ€§çš„","èŠ¸è¡“çš„","æµå‹•çš„ã§æŸ”è»Ÿ"], answer: 0, note: "ç«åœŸãŒå¤šãæœ¨æ°´ãŒæ¬ ã‘ã‚‹ã¨ä¿å®ˆçš„ãƒ»ç¾å®Ÿçš„å‚¾å‘ã«ãªã‚‹ã€‚" },
  { q: "å®˜æ˜ŸãŒãªãè²¡æ˜Ÿã°ã‹ã‚Šã®å ´åˆã€å‡ºã‚„ã™ã„ç¾è±¡ã¯ã©ã‚Œã‹ã€‚", choices: ["å®¶åº­å††æº€","ç•°æ€§å•é¡Œã‚„é‡‘éŠ­å•é¡Œ","ç¤¾ä¼šçš„è©•ä¾¡ã®ä¸Šæ˜‡","ç²¾ç¥å®‰å®š"], answer: 1, note: "å®˜ãŒãªãè²¡ãŒå¤šã„ã¨ç•°æ€§ã‚„é‡‘éŠ­ã®å•é¡ŒãŒèµ·ãã‚„ã™ã„ã€‚" },
  { q: "å°æ˜ŸãŒãªãå‚·å®˜ãŒå¼·ã„å‘½å¼ã§å‡ºã‚„ã™ã„ç¾è±¡ã¯ã©ã‚Œã‹ã€‚", choices: ["å‰µé€ åŠ›ã¨æ‰¹åˆ¤ç²¾ç¥ãŒå¼·ã¾ã‚‹ãŒå­¦å•ã«å¼±ã„","å®¶æ—ç¸ãŒæ·±ã¾ã‚‹","è²¡é‹ãŒå¼·ã¾ã‚‹","å¯¾äººé–¢ä¿‚ãŒç©ã‚„ã‹"], answer: 0, note: "å°ãŒãªãå‚·å®˜ãŒå¼·ã„ã¨å­¦å•ã«å¼±ãæ‰¹åˆ¤ç²¾ç¥ãŒå¼·ã¾ã‚‹ã€‚" },
  { q: "å‘½å¼ã«æ¯”è‚©ãŒå¤šã™ãã‚‹å ´åˆã«å‡ºã‚„ã™ã„ç¾è±¡ã¯ã©ã‚Œã‹ã€‚", choices: ["ä»²é–“ã«æµã¾ã‚Œã‚‹","å­¤ç«‹ã‚„ç«¶äº‰å¿ƒã®å¼·ã•","è²¡ãŒé›†ã¾ã‚Šã‚„ã™ã„","å®‰å®šã—ãŸç¤¾ä¼šçš„åœ°ä½"], answer: 1, note: "æ¯”è‚©ãŒå¤šã™ãã‚‹ã¨å­¤ç«‹ã‚„ç«¶äº‰å¿ƒã®å¼·ã•ã«ç¹‹ãŒã‚‹ã€‚" },
  { q: "å‘½å¼ã®ä¸­ã§é™°é™½ã®ãƒãƒ©ãƒ³ã‚¹ãŒå´©ã‚Œã‚‹ã¨å‡ºã‚„ã™ã„å‚¾å‘ã¯ã©ã‚Œã‹ã€‚", choices: ["æ¥µç«¯ãªæ€§æ ¼ã‚„é‹å‹¢ã®åã‚Š","å®¶åº­é‹ã®ä¸Šæ˜‡","ä»•äº‹é‹ã®å®‰å®š","è²¡é‹ã®å®‰å®š"], answer: 0, note: "é™°é™½ã®ãƒãƒ©ãƒ³ã‚¹ãŒå´©ã‚Œã‚‹ã¨æ¥µç«¯ã§åã£ãŸæ€§æ ¼ã«ãªã‚‹ã€‚" }
];

/* çŠ¶æ…‹ã¨è¦ç´  */
let selectedQuestions = [];
const state = { i: 0, score: 0, selected: [] };
const els = {
  noticeSection: document.getElementById("noticeSection"),
  toQuizBtn: document.getElementById("toQuizBtn"),
  quizSection: document.getElementById("quizSection"),
  progressLabel: document.getElementById("progressLabel"),
  progressBar: document.getElementById("progressBar"),
  scoreLabel: document.getElementById("scoreLabel"),
  questionText: document.getElementById("questionText"),
  choices: document.getElementById("choices"),
  prevBtn: document.getElementById("prevBtn"),
  nextBtn: document.getElementById("nextBtn"),
  resetBtn: document.getElementById("resetBtn"),
  resultCard: document.getElementById("resultCard"),
  finalScore: document.getElementById("finalScore"),
  totalQuestions: document.getElementById("totalQuestions"),
  gradeText: document.getElementById("gradeText"),
  copyLink: document.getElementById("copyLink"),
  retryBtn: document.getElementById("retryBtn"),
  reviewArea: document.getElementById("reviewArea"),
};

/* é–‹å§‹ãƒ•ãƒ­ãƒ¼ï¼ˆæ³¨æ„â†’ã‚¯ã‚¤ã‚ºï¼‰ */
els.toQuizBtn.onclick = () => {
  els.noticeSection.classList.add("d-none");
  els.quizSection.classList.remove("d-none");
  selectedQuestions = [...QUESTIONS].sort(() => Math.random() - 0.5).slice(0, 10);
  state.i = 0;
  state.score = 0;
  state.selected = Array(selectedQuestions.length).fill(null);
  render();
};

/* æç”» */
function render() {
  const q = selectedQuestions[state.i];
  els.progressLabel.textContent = `${state.i + 1} / ${selectedQuestions.length}`;
  els.progressBar.style.width = `${(state.i / selectedQuestions.length) * 100}%`;
  els.questionText.textContent = q.q;

  els.choices.innerHTML = "";
  q.choices.forEach((c, idx) => {
    const btn = document.createElement("button");
    btn.type = "button";
    btn.className = "list-group-item list-group-item-action choice text-start";
    btn.innerHTML = `<span class="badge bg-secondary me-2">${idx + 1}</span>${c}`;
    btn.onclick = () => selectChoice(idx);
    if (state.selected[state.i] === idx) btn.classList.add("active");
    els.choices.appendChild(btn);
  });

  els.prevBtn.disabled = state.i === 0;
  els.nextBtn.textContent = state.i === selectedQuestions.length - 1 ? "æ¡ç‚¹ã™ã‚‹" : "æ¬¡ã¸";
  els.scoreLabel.textContent = `${state.score} ç‚¹`;
}

function selectChoice(idx) {
  state.selected[state.i] = idx;
  state.score = state.selected.reduce((acc, val, i) => {
    if (val === null) return acc;
    return acc + (val === selectedQuestions[i].answer ? 1 : 0);
  }, 0);
  render();
}

els.prevBtn.onclick = () => { state.i = Math.max(0, state.i - 1); render(); };
els.nextBtn.onclick = () => { if (state.i === selectedQuestions.length - 1) return submit(); state.i++; render(); };
els.resetBtn.onclick = () => reset();
els.retryBtn.onclick = () => { reset(); els.resultCard.classList.add("d-none"); els.quizSection.scrollIntoView({ behavior: "smooth" }); };

/* æ¡ç‚¹ã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º */
function submit() {
  const firstBlank = state.selected.findIndex(v => v === null);
  if (firstBlank !== -1) { state.i = firstBlank; render(); alert("æœªå›ç­”ã®å•é¡ŒãŒã‚ã‚Šã¾ã™"); return; }

  state.score = state.selected.reduce((acc, val, i) => acc + (val === selectedQuestions[i].answer ? 1 : 0), 0);
  els.finalScore.textContent = state.score;
  els.totalQuestions.textContent = selectedQuestions.length;

  const rate = state.score / selectedQuestions.length;
  let grade = "";
  if (rate === 1) grade = "ğŸŒŸ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼";
  else if (rate >= 0.8) grade = "âœ¨ åˆæ ¼ãƒ¬ãƒ™ãƒ«";
  else if (rate >= 0.6) grade = "ğŸ’¡ ã‚‚ã†ä¸€æ­©";
  else grade = "ğŸ“š åŸºç¤ã‹ã‚‰ã®å­¦ç¿’ãŒãŠã™ã™ã‚";
  els.gradeText.textContent = grade;

els.reviewArea.innerHTML = selectedQuestions
  .map((q, i) => {
    const correct = q.answer;
    const sel = state.selected[i];
    const ok = sel === correct;
    const your = sel !== null ? `${sel + 1}. ${q.choices[sel]}` : "æœªå›ç­”";
    const corr = `${correct + 1}. ${q.choices[correct]}`;
    const badge = ok ? "âœ… æ­£è§£" : "âŒ ä¸æ­£è§£";
    return `
      <div class="mb-3">
        <div class="fw-bold review-question">Q${i + 1}. ${q.q}</div>
        <div class="small ${ok ? "review-correct" : "review-wrong"}">
          ${badge}ï½œã‚ãªãŸã®è§£ç­”ï¼š${your}
        </div>
        <div class="small review-answer">æ­£è§£ï¼š${corr}</div>
        <div class="small muted">è§£èª¬ï¼š${q.note || "-"}</div>
      </div>
    `;
  })
  .join("");


  els.resultCard.classList.remove("d-none");
  window.scrollTo({ top: els.resultCard.offsetTop - 80, behavior: "smooth" });

  // ãƒ¡ãƒ¼ãƒ«ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ/subscribe ã«POSTï¼‰
  if (typeof setupSubscribeForm === "function") setupSubscribeForm();
}

function reset() {
  state.i = 0;
  state.score = 0;
  if (selectedQuestions.length) state.selected = Array(selectedQuestions.length).fill(null);
  render();
}

/* å…±æœ‰ãƒªãƒ³ã‚¯ï¼ˆä»»æ„ï¼‰ */
if (els.copyLink) {
  els.copyLink.addEventListener("click", async () => {
    const url = location.origin + location.pathname + `?score=${state.score}&total=${selectedQuestions.length}`;
    try { await navigator.clipboard.writeText(url); alert("çµæœãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"); }
    catch { prompt("ã‚³ãƒ”ãƒ¼ã§ããªã„å ´åˆã¯æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„", url); }
  });
}

